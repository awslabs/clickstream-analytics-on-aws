# 用户留存分析

留存率是评估应用或网站用户粘性的常见指标。留存意味着用户在使用应用后的一段时间内再次返回您的应用或网站。除了默认仪表板中的标准留存指标外，留存分析模块允许您选择起始事件和返回事件来自定义目标用户组的留存率或流失率。

## 用例
留存分析通常用于了解您的应用或网站在保留用户方面的表现，例如：

- 计算新用户留存率以衡量流量渠道的效果；
- 计算活跃用户留存率以衡量促销活动的效果；
- 比较不同用户组的复购率，以识别最有价值的客户。

## 关键概念：
- **开始（Start）**：表示用户开始使用应用或网站的事件。
- **重访（Revisit）**：表示用户返回应用或网站的事件。
- **关联参数（Associated parameter）**：用于在起始事件和返回事件之间保持参数值一致的关联参数。例如，促销活动名称、页面标题或产品标题必须是起始事件和返回事件的相同值。

    !!! note

        两个关联参数必须都有值，且值类型必须一致。

- **留存率（Retention Rate）**：留存率 % = 在起始日期（或周，或月，取决于选择的粒度）执行指定起始事件的用户数量 / 在返回日期（或周，或月）执行指定返回事件的相同用户数量

## 如何使用

1. 选择一个**开始（Start）**事件，您可以通过单击 :material-filter-outline:{ .filter } 图标为事件添加筛选器。
2. 选择一个**重访（Revisit）**事件，您可以通过单击 :material-filter-outline:{ .filter } 图标为事件添加筛选器。
3. 如果需要关联参数，可以切换打开 **关联参数（Associate parameter）**，然后为起始事件和返回事件选择参数。
4. 重复上述步骤以添加更多指标（如果需要）。
5. 如果需要，通过选择事件参数或用户属性配置全局过滤器。与事件过滤器类似，您可以添加多个全局过滤器并配置过滤器关系。
6. 如果需要，通过选择事件参数或用户属性配置分组。
7. 单击 "查询" 按钮开始分析。
8. 调整数据粒度，例如每天、每周、每月，如果需要的话。
9. 指定查询时间范围。

    !!! note

        起始时间将是留存分析的起点（即，第 0 天），留存率 % 将根据在起始日期（或周，或月，取决于选择的粒度）执行指定起始事件的用户数量计算。

10. 单击 "保存到仪表板" 以将分析保存到仪表板，输入名称、描述，并选择仪表板和工作表。

## 示例：

> 计算一周前从不同 Android 应用市场下载的新客户的留存率。

1. 选择 **用户留存分析** 模型。
2. 选择 `_first_open` 作为开始事件。
3. 选择 `_app_start` 作为重访事件。
4. 在右侧 **过滤器** 区域配置全局过滤器：
    - 选择 `other.platform` 作为过滤器属性。
    - 操作：`=`
    - 值：`Android`
5. 在右侧 **属性分组** 区域，通过选择 `app_info.instal_source` 配置分组。
6. 单击 **查询**。

所有配置如下图所示：
![explore-funnel](../../images/analytics/explore/explore-retention-en.png)



