
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://awslabs.github.io/clickstream-analytics-on-aws/1.2.x/sdk-manual/swift/">
      
      
        <link rel="prev" href="../android/">
      
      
        <link rel="next" href="../web/">
      
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Swift SDK - Clickstream Analytics on AWS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <script async src="https://github.com/awslabs/clickstream-web/releases/download/v0.9.1/clickstream-web.min.js"></script>
<script>
    window.onload = function() {
        window.ClickstreamAnalytics.init({
            appId: 'docs',
            endpoint: 'https://pipeline.clickstream.solutions.gcr.aws.dev/collect',
            pageType: window.PageType.multiPageApp,
        });
    };
</script>
  
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#clickstream-swift-sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Clickstream Analytics on AWS" class="md-header__button md-logo" aria-label="Clickstream Analytics on AWS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Clickstream Analytics on AWS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Swift SDK
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/clickstream-analytics-on-aws/en/1.2.x" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/clickstream-analytics-on-aws/zh/1.2.x" hreflang="zh" class="md-select__link">
              简体中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/awslabs/clickstream-analytics-on-aws/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../solution-overview/" class="md-tabs__link">
          
  
  Implementation Guide

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://catalog.workshops.aws/clickstream/en-US" class="md-tabs__link">
        
  
    
  
  Workshop

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Clickstream Analytics on AWS" class="md-nav__button md-logo" aria-label="Clickstream Analytics on AWS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Clickstream Analytics on AWS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awslabs/clickstream-analytics-on-aws/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Implementation Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Implementation Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Solution Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Solution Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solution-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solution-overview/features-and-benefits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features and benefits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solution-overview/use-cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use cases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architecture overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Architecture overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture diagram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../well-architected-pillars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Well-Architected pillars
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architecture details
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture details
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aws-services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS services in this solution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture-details/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How the solution works
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plan your deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Plan your deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/cost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/regions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported AWS Regions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/with-cognito/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cognito
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/with-oidc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OIDC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/within-vpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intranet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/1.create-project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 1. Create a project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/2.config-pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 2. Configure data pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/3.integrate-sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 3. Integrate SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/4.view-dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 4. Analyze data
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            Pipeline management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7_2" >
        
          
          <label class="md-nav__link" for="__nav_1_7_2" id="__nav_1_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data ingestion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7_2">
            <span class="md-nav__icon md-icon"></span>
            Data ingestion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/ingestion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/ingestion/configure-ingestion-endpoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingestion endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/ingestion/create-data-sink-w-kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data sink - Kafka
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/ingestion/create-data-sink-w-kinesis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data sink - Kinesis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/ingestion/create-data-sink-w-s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data sink - S3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7_3" >
        
          
          <label class="md-nav__link" for="__nav_1_7_3" id="__nav_1_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data processing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7_3">
            <span class="md-nav__icon md-icon"></span>
            Data processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/data-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/data-processing/data-schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/data-processing/configure-execution-para/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Execution parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/data-processing/configure-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processing plugin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/data-modeling/configure-data-modeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data modeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/quicksight/configure-quicksight/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-mgmt/pipe-mgmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline maintenance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" checked>
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SDK manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            SDK manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Swift SDK
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Swift SDK
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-support" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrate-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate SDK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integrate SDK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1add-package" class="md-nav__link">
    <span class="md-ellipsis">
      1.Add Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2parameter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      2.Parameter configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3initialize-the-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      3.Initialize the SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4start-using" class="md-nav__link">
    <span class="md-ellipsis">
      4.Start  using
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.Start using">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#record-event" class="md-nav__link">
    <span class="md-ellipsis">
      Record event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-global-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Add global attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-and-logout" class="md-nav__link">
    <span class="md-ellipsis">
      Login and logout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-user-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Add user attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-event-with-items" class="md-nav__link">
    <span class="md-ellipsis">
      Record event with items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-event-immediately" class="md-nav__link">
    <span class="md-ellipsis">
      Send event immediately
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Disable SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-update" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-events" class="md-nav__link">
    <span class="md-ellipsis">
      Debug events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-format-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Data format definition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data format definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-type" class="md-nav__link">
    <span class="md-ellipsis">
      Data type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-and-attribute-limitation" class="md-nav__link">
    <span class="md-ellipsis">
      Event and Attribute Limitation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preset-events" class="md-nav__link">
    <span class="md-ellipsis">
      Preset events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preset events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatically-collected-events" class="md-nav__link">
    <span class="md-ellipsis">
      Automatically collected events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Session definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-view-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Screen view definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-engagement-definition" class="md-nav__link">
    <span class="md-ellipsis">
      User engagement definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Event attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Event attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-event-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Sample event structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Common attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      User attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-attributes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Event attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#item-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Item attributes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-log" class="md-nav__link">
    <span class="md-ellipsis">
      Change log
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-link" class="md-nav__link">
    <span class="md-ellipsis">
      Reference link
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flutter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flutter SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wechat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WeChat Miniprogram SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../http-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-identifier/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User identifier
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrate-from-third-party-sdks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrate from third-party SDKs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Analytics Studio
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            Analytics Studio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_2" >
        
          
          <label class="md-nav__link" for="__nav_1_9_2" id="__nav_1_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dashboard
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_2">
            <span class="md-nav__icon md-icon"></span>
            Dashboard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/acquisition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acquisition report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/engagement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engagement report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/activity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activity report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/retention/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retention report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/device/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Device report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/crash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crash report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/dashboard/custom-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom report
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_3" >
        
          
          <label class="md-nav__link" for="__nav_1_9_3" id="__nav_1_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Explore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_3">
            <span class="md-nav__icon md-icon"></span>
            Explore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/explore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/explore/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/explore/funnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funnel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/explore/path/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/explore/retention/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retention
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_4" >
        
          
          <label class="md-nav__link" for="__nav_1_9_4" id="__nav_1_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Analyzes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_4">
            <span class="md-nav__icon md-icon"></span>
            Analyzes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/analyzes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9_5" >
        
          
          <label class="md-nav__link" for="__nav_1_9_5" id="__nav_1_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9_5">
            <span class="md-nav__icon md-icon"></span>
            Data management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analytics/data-mgmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../identity-mgmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Identity Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade the solution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            Additional resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/upload-ssl-certificate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upload Certificate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uninstall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uninstall the solution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            Developer guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../revisions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Revisions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://catalog.workshops.aws/clickstream/en-US" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-support" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrate-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate SDK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integrate SDK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1add-package" class="md-nav__link">
    <span class="md-ellipsis">
      1.Add Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2parameter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      2.Parameter configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3initialize-the-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      3.Initialize the SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4start-using" class="md-nav__link">
    <span class="md-ellipsis">
      4.Start  using
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.Start using">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#record-event" class="md-nav__link">
    <span class="md-ellipsis">
      Record event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-global-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Add global attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-and-logout" class="md-nav__link">
    <span class="md-ellipsis">
      Login and logout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-user-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Add user attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-event-with-items" class="md-nav__link">
    <span class="md-ellipsis">
      Record event with items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-event-immediately" class="md-nav__link">
    <span class="md-ellipsis">
      Send event immediately
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Disable SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-update" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-events" class="md-nav__link">
    <span class="md-ellipsis">
      Debug events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-format-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Data format definition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data format definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-type" class="md-nav__link">
    <span class="md-ellipsis">
      Data type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-and-attribute-limitation" class="md-nav__link">
    <span class="md-ellipsis">
      Event and Attribute Limitation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preset-events" class="md-nav__link">
    <span class="md-ellipsis">
      Preset events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preset events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatically-collected-events" class="md-nav__link">
    <span class="md-ellipsis">
      Automatically collected events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Session definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-view-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Screen view definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-engagement-definition" class="md-nav__link">
    <span class="md-ellipsis">
      User engagement definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Event attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Event attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-event-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Sample event structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Common attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      User attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-attributes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Event attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#item-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Item attributes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-log" class="md-nav__link">
    <span class="md-ellipsis">
      Change log
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-link" class="md-nav__link">
    <span class="md-ellipsis">
      Reference link
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="clickstream-swift-sdk">Clickstream Swift SDK</h1>
<h2 id="introduction">Introduction</h2>
<p>Clickstream Swift SDK can help you easily collect in-app click stream data from iOS devices to your AWS environments through the data pipeline provisioned by this solution.</p>
<p>The SDK is based on the Amplify for Swift SDK Core Library and developed according to the Amplify Swift SDK plug-in specification. In addition, the SDK provides features that automatically collect common user events and attributes (for example, screen view, and first open) to accelerate data collection for users.</p>
<h3 id="platform-support">Platform Support</h3>
<p>Clickstream Swift SDK supports iOS 13+.</p>
<p>Clickstream Swift SDK requires Xcode 13.4 or higher to build.</p>
<h2 id="integrate-sdk">Integrate SDK</h2>
<h3 id="1add-package">1.Add Package</h3>
<p>We use <strong>Swift Package Manager(SPM)</strong> to distribute Clickstream Swift SDK, open your project in Xcode and select <strong>File &gt; Add Packages</strong>.</p>
<p><a class="glightbox" href="../../images/sdk-manual/swift_add_package.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../../images/sdk-manual/swift_add_package.png" /></a></p>
<ol>
<li>Copy the Clickstream Swift SDK GitHub repository URL and paste it into the search bar.
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>https://github.com/awslabs/clickstream-swift
</span></code></pre></div></li>
<li>Check the rules for the version of the SDK that you want Swift Package Manager to install, it is recommended to choose <strong>Up to Next Major Version</strong>, then click <strong>Add Package</strong>.</li>
<li>Keep the Clickstream product checked as default.</li>
<li>Choose <strong>Add Package</strong> again to finish the package installation.</li>
</ol>
<p><a class="glightbox" href="../../images/sdk-manual/swift_add_package_url.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../../images/sdk-manual/swift_add_package_url.png" /></a></p>
<h3 id="2parameter-configuration">2.Parameter configuration</h3>
<p>Download your <code>amplifyconfiguration.json</code> file from your Clickstream solution web console, and paste it to your project root folder.</p>
<p><a class="glightbox" href="../../images/sdk-manual/swift_add_amplify_config_json_file.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../../images/sdk-manual/swift_add_amplify_config_json_file.png" /></a></p>
<p>the JSON file will be as follows:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;analytics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;plugins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">      </span><span class="nt">&quot;awsClickstreamPlugin &quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">        </span><span class="nt">&quot;appId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your appId&quot;</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">        </span><span class="nt">&quot;endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/collect&quot;</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="nt">&quot;isCompressEvents&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">        </span><span class="nt">&quot;autoFlushEventsInterval&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">        </span><span class="nt">&quot;isTrackAppExceptionEvents&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="p">}</span>
</span></code></pre></div>
<p>Your <code>appId</code> and <code>endpoint</code> are already set up in it, here's an explanation of each property:</p>
<ul>
<li><strong>appId (Required)</strong>: the app id of your project in web console.</li>
<li><strong>endpoint (Required)</strong>: the endpoint url you will upload the event to AWS server.</li>
<li><strong>isCompressEvents</strong>: whether to compress event content when uploading events, default is <code>true</code></li>
<li><strong>autoFlushEventsInterval</strong>: event sending interval, the default is <code>10s</code></li>
<li><strong>isTrackAppExceptionEvents</strong>: whether auto track exception event in app, default is <code>false</code></li>
</ul>
<h3 id="3initialize-the-sdk">3.Initialize the SDK</h3>
<p>Once you have configured the parameters, you need to initialize it in AppDelegate's <code>didFinishLaunchingWithOptions</code> lifecycle method to use the SDK.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Swift</label><label for="__tabbed_1_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="n">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="bp">UIApplication</span><span class="p">.</span><span class="n">LaunchOptionsKey</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]?)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="k">do</span> <span class="p">{</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        <span class="k">try</span> <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">initSDK</span><span class="p">()</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="bp">assertionFailure</span><span class="p">(</span><span class="s">&quot;Fail to initialize ClickstreamAnalytics: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    <span class="p">}</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    <span class="k">return</span> <span class="kc">true</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="bp">NSError</span><span class="w"> </span><span class="o">*</span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">nil</span><span class="p">;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">initSDKAndReturnError</span><span class="o">:&amp;</span><span class="n">error</span><span class="p">];</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fail to initialize ClickstreamAnalytics: %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">localizedDescription</span><span class="p">);</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<p>If your project is developed with SwiftUI, you need to create an application delegate and attach it to your <code>App</code> through <code>UIApplicationDelegateAdaptor</code>.</p>
<div class="language-swift highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="p">@</span><span class="n">main</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">struct</span> <span class="nc">YourApp</span><span class="p">:</span> <span class="n">App</span> <span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="p">@</span><span class="n">UIApplicationDelegateAdaptor</span><span class="p">(</span><span class="n">AppDelegate</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span> <span class="kd">var</span> <span class="nv">appDelegate</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="kd">var</span> <span class="nv">body</span><span class="p">:</span> <span class="n">some</span> <span class="n">Scene</span> <span class="p">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>        <span class="n">WindowGroup</span> <span class="p">{</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>            <span class="n">YourView</span><span class="p">()</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>        <span class="p">}</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="p">}</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="p">}</span>
</span></code></pre></div>
<p>For SwiftUI, we do not yet support automatic collection of screen view events, you need to disable screen view event by setting <code>configuration.isTrackScreenViewEvents = false</code>, see the <a href="#configuration-update">configuration</a> steps.</p>
<h3 id="4start-using">4.Start  using</h3>
<h4 id="record-event">Record event</h4>
<p>Add the following code where you need to record event.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Swift</label><label for="__tabbed_2_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1">// for record an event with custom attributes</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kd">let</span> <span class="nv">attributes</span><span class="p">:</span> <span class="n">ClickstreamAttribute</span> <span class="p">=</span> <span class="p">[</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    <span class="s">&quot;category&quot;</span><span class="p">:</span> <span class="s">&quot;shoes&quot;</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="s">&quot;currency&quot;</span><span class="p">:</span> <span class="s">&quot;CNY&quot;</span><span class="p">,</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="mf">279.9</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p">]</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">recordEvent</span><span class="p">(</span><span class="s">&quot;button_click&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="p">)</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="c1">// for record an event directly</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">recordEvent</span><span class="p">(</span><span class="s">&quot;button_click&quot;</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">// for record an event with custom attributes</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">attributes</span><span class="w"> </span><span class="o">=</span><span class="l">@{</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="s">@&quot;category&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;shoes&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="s">@&quot;currency&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;CNY&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="s">@&quot;value&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">@12.34</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="l">}</span><span class="p">;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">recordEvent</span><span class="o">:</span><span class="s">@&quot;button_click&quot;</span><span class="w"> </span><span class="o">:</span><span class="n">attributes</span><span class="p">];</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="c1">// for record an event directly</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">recordEvent</span><span class="o">:</span><span class="s">@&quot;button_click&quot;</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="add-global-attribute">Add global attribute</h4>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Swift</label><label for="__tabbed_3_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="kd">let</span> <span class="nv">globalAttribute</span><span class="p">:</span> <span class="n">ClickstreamAttribute</span> <span class="p">=</span> <span class="p">[</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="s">&quot;channel&quot;</span><span class="p">:</span> <span class="s">&quot;apple&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="s">&quot;class&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="s">&quot;level&quot;</span><span class="p">:</span> <span class="mf">5.1</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="s">&quot;isOpenNotification&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">]</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">addGlobalAttributes</span><span class="p">(</span><span class="n">globalAttribute</span><span class="p">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="c1">// for delete an global attribute</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">deleteGlobalAttributes</span><span class="p">(</span><span class="s">&quot;level&quot;</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">attributes</span><span class="w"> </span><span class="o">=</span><span class="l">@{</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="s">@&quot;channel&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;apple&quot;</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="s">@&quot;class&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">@6</span><span class="p">,</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="s">@&quot;level&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">@5.1</span><span class="p">,</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="s">@&quot;isOpenNotification&quot;</span><span class="o">:</span><span class="w"> </span><span class="m">@YES</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="l">}</span><span class="p">;</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">addGlobalAttributes</span><span class="w"> </span><span class="o">:</span><span class="n">attributes</span><span class="p">];</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="c1">// for delete an global attribute</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">deleteGlobalAttributes</span><span class="o">:</span><span class="w"> </span><span class="l">@[</span><span class="s">@&quot;level&quot;</span><span class="l">]</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<p>Please add the global attribute after the SDK initialization is completed, the global attribute will be added to the attribute object in all events.</p>
<h4 id="login-and-logout">Login and logout</h4>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Swift</label><label for="__tabbed_4_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">// when user login usccess.</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">setUserId</span><span class="p">(</span><span class="s">&quot;userId&quot;</span><span class="p">)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c1">// when user logout</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">setUserId</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1">// when user login usccess.</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">setUserId</span><span class="o">:</span><span class="s">@&quot;userId&quot;</span><span class="p">];</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="c1">// when user logout</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">setUserId</span><span class="o">:</span><span class="nb">NULL</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="add-user-attribute">Add user attribute</h4>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Swift</label><label for="__tabbed_5_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="kd">let</span> <span class="nv">userAttributes</span> <span class="p">:</span> <span class="n">ClickstreamAttribute</span><span class="p">=[</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="s">&quot;_user_age&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="s">&quot;_user_name&quot;</span><span class="p">:</span> <span class="s">&quot;carl&quot;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="p">]</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">addUserAttributes</span><span class="p">(</span><span class="n">userAttributes</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">userAttributes</span><span class="w"> </span><span class="o">=</span><span class="l">@{</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="s">@&quot;_user_age&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">@21</span><span class="p">,</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="s">@&quot;user_name&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;carl&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="l">}</span><span class="p">;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">addUserAttributes</span><span class="o">:</span><span class="n">userAttributes</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<p>Current login user's attributes will be cached in disk, so the next time app launch you don't need to set all user's attribute again, of course you can use the same api <code>ClickstreamAnalytics.addUserAttributes()</code> to update the current user's attribute when it changes.</p>
<div class="admonition info">
<p class="admonition-title">Important</p>
<p>If your application is already published and most users have already logged in, please manually set the user attributes once when integrate the Clickstream SDK for the first time to ensure that subsequent events contains user attributes.</p>
</div>
<h4 id="record-event-with-items">Record event with items</h4>
<p>You can add the following code to log an event with an item.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Swift</label><label for="__tabbed_6_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kd">let</span> <span class="nv">attributes</span><span class="p">:</span> <span class="n">ClickstreamAttribute</span> <span class="p">=</span> <span class="p">[</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">ITEM_ID</span><span class="p">:</span> <span class="s">&quot;123&quot;</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">CURRENCY</span><span class="p">:</span> <span class="s">&quot;USD&quot;</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="s">&quot;event_category&quot;</span><span class="p">:</span> <span class="s">&quot;recommended&quot;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="p">]</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="kd">let</span> <span class="nv">item_book</span><span class="p">:</span> <span class="n">ClickstreamAttribute</span> <span class="p">=</span> <span class="p">[</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">ITEM_ID</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">ITEM_NAME</span><span class="p">:</span> <span class="s">&quot;Nature&quot;</span><span class="p">,</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">ITEM_CATEGORY</span><span class="p">:</span> <span class="s">&quot;book&quot;</span><span class="p">,</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>    <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">Item</span><span class="p">.</span><span class="n">PRICE</span><span class="p">:</span> <span class="mf">99.9</span><span class="p">,</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>    <span class="s">&quot;book_publisher&quot;</span><span class="p">:</span> <span class="s">&quot;Nature Research&quot;</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="p">]</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">recordEvent</span><span class="p">(</span><span class="s">&quot;view_item&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="p">,</span> <span class="p">[</span><span class="n">item_book</span><span class="p">])</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">attributes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="l">@{</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">ITEM_ID</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;123&quot;</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">CURRENCY</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;USD&quot;</span><span class="p">,</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="s">&quot;event_category&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;recommended&quot;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="l">}</span><span class="p">;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">item_book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="l">@{</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">ITEM_ID</span><span class="o">:</span><span class="w"> </span><span class="mi">@123</span><span class="p">,</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">ITEM_NAME</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Nature&quot;</span><span class="p">,</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">ITEM_CATEGORY</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;book&quot;</span><span class="p">,</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="n">ClickstreamItemKey</span><span class="p">.</span><span class="n">PRICE</span><span class="o">:</span><span class="w"> </span><span class="mf">@99.9</span><span class="p">,</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="s">&quot;book_publisher&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Nature Research&quot;</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="l">}</span><span class="p">;</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">recordEvent</span><span class="o">:</span><span class="s">@&quot;view_item&quot;</span><span class="w"> </span><span class="o">:</span><span class="n">attributes</span><span class="p">,</span><span class="w"> </span><span class="l">@[</span><span class="n">item_book</span><span class="l">]</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<p>For logging more attribute in an item, please refer to <a href="#item-attributes">item attributes</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>Only pipelines from version 1.1+ can handle items with custom attribute.</p>
</div>
<h4 id="send-event-immediately">Send event immediately</h4>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Swift</label><label for="__tabbed_7_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">// for send event immediately.</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">flushEvents</span><span class="p">()</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c1">// for send event immediately.</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">flushEvents</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="disable-sdk">Disable SDK</h4>
<p>You can disable the SDK in the scenario you need. After disabling the SDK, the SDK will not handle the logging and sending of any events. Of course you can enable the SDK when you need to continue logging events.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Swift</label><label for="__tabbed_8_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="c1">// disable SDK</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">disable</span><span class="p">()</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="c1">// enable SDK</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">enable</span><span class="p">()</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="c1">// disable SDK</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">disable</span><span class="p">];</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="c1">// enable SDK</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">enable</span><span class="p">];</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="configuration-update">Configuration update</h4>
<p>After initializing the SDK, you can use the following code to customize the configuration of the SDK.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Swift</label><label for="__tabbed_9_2">Objective-C</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-swift highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">import</span> <span class="nc">Clickstream</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="c1">// config the sdk after initialize.</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="k">do</span> <span class="p">{</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="kd">var</span> <span class="nv">configuration</span> <span class="p">=</span> <span class="k">try</span> <span class="n">ClickstreamAnalytics</span><span class="p">.</span><span class="n">getClickstreamConfiguration</span><span class="p">()</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">appId</span> <span class="p">=</span> <span class="s">&quot;your appId&quot;</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">endpoint</span> <span class="p">=</span> <span class="s">&quot;https://example.com/collect&quot;</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">authCookie</span> <span class="p">=</span> <span class="s">&quot;your authentication cookie&quot;</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">sessionTimeoutDuration</span> <span class="p">=</span> <span class="mi">1800000</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">isTrackScreenViewEvents</span> <span class="p">=</span> <span class="kc">false</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">isTrackUserEngagementEvents</span> <span class="p">=</span> <span class="kc">false</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">isLogEvents</span> <span class="p">=</span> <span class="kc">true</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>    <span class="n">configuration</span><span class="p">.</span><span class="n">isCompressEvents</span> <span class="p">=</span> <span class="kc">true</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Failed to config ClickstreamAnalytics: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-objective-c highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">@import</span><span class="w"> </span><span class="n">Clickstream</span><span class="p">;</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="c1">// config the sdk after initialize.</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">ClickstreamContextConfiguration</span><span class="w"> </span><span class="o">*</span><span class="n">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ClickstreamObjc</span><span class="w"> </span><span class="n">getClickstreamConfigurationAndReturnError</span><span class="o">:&amp;</span><span class="n">error</span><span class="p">];</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setAppId</span><span class="o">:</span><span class="s">@&quot;your appId&quot;</span><span class="p">];</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setEndpoint</span><span class="o">:</span><span class="s">@&quot;https://example.com/collect&quot;</span><span class="p">];</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setAuthCookie</span><span class="o">:</span><span class="s">@&quot;your authentication cookie&quot;</span><span class="p">];</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setSessionTimeoutDuration</span><span class="o">:</span><span class="mi">1800000</span><span class="p">];</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setIsTrackScreenViewEvents</span><span class="o">:</span><span class="mi">0</span><span class="p">];</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setIsTrackUserEngagementEvents</span><span class="o">:</span><span class="mi">0</span><span class="p">];</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setIsLogEvents</span><span class="o">:</span><span class="mi">1</span><span class="p">];</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="p">[</span><span class="n">configuration</span><span class="w"> </span><span class="n">setIsCompressEvents</span><span class="o">:</span><span class="mi">1</span><span class="p">];</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed to get configuration: %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">localizedDescription</span><span class="p">);</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<blockquote>
<p>Note: this configuration will override the default configuration in <code>amplifyconfiguration.json</code> file</p>
</blockquote>
<p>Here is an explanation of each option.</p>
<table>
<thead>
<tr>
<th>Method name</th>
<th>Parameter type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>appId</td>
<td>String</td>
<td>true</td>
<td>--</td>
<td>the app id of your application in web console</td>
</tr>
<tr>
<td>endpoint</td>
<td>String</td>
<td>true</td>
<td>--</td>
<td>the endpoint path you will upload the event to Clickstream ingestion server</td>
</tr>
<tr>
<td>authCookie</td>
<td>String</td>
<td>false</td>
<td>--</td>
<td>your auth cookie for AWS application load balancer auth cookie</td>
</tr>
<tr>
<td>sessionTimeoutDuration</td>
<td>Int64</td>
<td>false</td>
<td>1800000</td>
<td>the duration for session timeout in milliseconds</td>
</tr>
<tr>
<td>isTrackScreenViewEvents</td>
<td>Bool</td>
<td>false</td>
<td>true</td>
<td>whether to auto-record screen view events</td>
</tr>
<tr>
<td>isTrackUserEngagementEvents</td>
<td>Bool</td>
<td>false</td>
<td>true</td>
<td>whether to auto-record user engagement events</td>
</tr>
<tr>
<td>isLogEvents</td>
<td>Bool</td>
<td>false</td>
<td>false</td>
<td>whether to automatically print event JSON for debugging events, <a href="#debug-events">Learn more</a></td>
</tr>
<tr>
<td>isCompressEvents</td>
<td>Bool</td>
<td>false</td>
<td>true</td>
<td>whether to compress event content by gzip when uploading events</td>
</tr>
</tbody>
</table>
<h4 id="debug-events">Debug events</h4>
<p>You can follow the steps below to view the event raw JSON and debug your events.</p>
<ol>
<li>set the <code>isLogEvents</code> option with true in debug mode.</li>
<li>Integrate the SDK and launch your app by Xcode, then open the log panel.</li>
<li>Input <code>EventRecorder</code> to the filter, and you will see the JSON content of all events recorded by Clickstream Swift SDK.</li>
</ol>
<h2 id="data-format-definition">Data format definition</h2>
<h3 id="data-type">Data type</h3>
<p>Clickstream Swift SDK supports the following data types:</p>
<table>
<thead>
<tr>
<th>Data type</th>
<th>Range</th>
<th>Sample</th>
</tr>
</thead>
<tbody>
<tr>
<td>Int</td>
<td>-2147483648 ~ 2147483647</td>
<td>12</td>
</tr>
<tr>
<td>Int64</td>
<td>-9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807</td>
<td>26854775808</td>
</tr>
<tr>
<td>Double</td>
<td>-2.22E-308 ~ 1.79E+308</td>
<td>3.14</td>
</tr>
<tr>
<td>Boolean</td>
<td>true, false</td>
<td>true</td>
</tr>
<tr>
<td>String</td>
<td>max support 1024 characters</td>
<td>"clickstream"</td>
</tr>
</tbody>
</table>
<h3 id="naming-rules">Naming rules</h3>
<ol>
<li>
<p>The event name and attribute name cannot start with a number, and only contains uppercase and lowercase letters, numbers, underscores, if the event name is invalid will throw <code>precondition failure</code>, if the attribute or user attribute name is invalid the attribute will be discarded and record error.</p>
</li>
<li>
<p>Do not use <code>_</code> as prefix to naming event name and attribute name, <code>_</code> prefix is the reserved from Clickstream Analytics.</p>
</li>
<li>
<p>The event name and attribute name are in case-sensitive, So the event <code>Add_to_cart</code> and <code>add_to_cart</code> will be recognized as two different event.</p>
</li>
</ol>
<h3 id="event-and-attribute-limitation">Event and Attribute Limitation</h3>
<p>In order to improve the efficiency of querying and analysis, we need to limit events as follows:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Suggestion</th>
<th>Hard limit</th>
<th>Strategy</th>
<th>Error code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Event name invalid</td>
<td>--</td>
<td>--</td>
<td>discard event, print log and record <code>_clickstream_error</code> event</td>
<td>1001</td>
</tr>
<tr>
<td>Length of event name</td>
<td>under 25 characters</td>
<td>50 characters</td>
<td>discard event, print log and record <code>_clickstream_error</code> event</td>
<td>1002</td>
</tr>
<tr>
<td>Length of event attribute name</td>
<td>under 25 characters</td>
<td>50 characters</td>
<td>discard the attribute,  print log and record error in event attribute</td>
<td>2001</td>
</tr>
<tr>
<td>Attribute name invalid</td>
<td>--</td>
<td>--</td>
<td>discard the attribute,  print log and record error in event attribute</td>
<td>2002</td>
</tr>
<tr>
<td>Length of event attribute value</td>
<td>under 100 characters</td>
<td>1024 characters</td>
<td>discard the attribute,  print log and record error in event attribute</td>
<td>2003</td>
</tr>
<tr>
<td>Event attribute per event</td>
<td>under 50 attributes</td>
<td>500 evnet attributes</td>
<td>discard the attribute that exceed, print log and record error in event attribute</td>
<td>2004</td>
</tr>
<tr>
<td>User attribute number</td>
<td>under 25 attributes</td>
<td>100 user attributes</td>
<td>discard the attribute that exceed, print log and record <code>_clickstream_error</code> event</td>
<td>3001</td>
</tr>
<tr>
<td>Length of User attribute name</td>
<td>under 25 characters</td>
<td>50 characters</td>
<td>discard the attribute, print log and record <code>_clickstream_error</code> event</td>
<td>3002</td>
</tr>
<tr>
<td>User attribute name invalid</td>
<td>--</td>
<td>--</td>
<td>discard the attribute, print log and record <code>_clickstream_error</code> event</td>
<td>3003</td>
</tr>
<tr>
<td>Length of User attribute value</td>
<td>under 50 characters</td>
<td>256 characters</td>
<td>discard the attribute, print log and record <code>_clickstream_error</code> event</td>
<td>3004</td>
</tr>
<tr>
<td>Item number in one event</td>
<td>under 50 items</td>
<td>100 items</td>
<td>discard the item, print log and record error in event attribute</td>
<td>4001</td>
</tr>
<tr>
<td>Length of item attribute value</td>
<td>under 100 characters</td>
<td>256 characters</td>
<td>discard the item, print log and record error in event attribute</td>
<td>4002</td>
</tr>
<tr>
<td>Custom item attribute number in one item</td>
<td>under 10 custom attributes</td>
<td>10 custom attributes</td>
<td>discard the item, print log and record error in event attribute</td>
<td>4003</td>
</tr>
<tr>
<td>Length of item attribute name</td>
<td>under 25 characters</td>
<td>50 characters</td>
<td>discard the item, print log and record error in event attribute</td>
<td>4004</td>
</tr>
<tr>
<td>Item attribute name invalid</td>
<td>--</td>
<td>--</td>
<td>discard the item, print log and record error in event attribute</td>
<td>4005</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Important</p>
<ul>
<li>The character limits are the same for single-width character languages (e.g., English) and double-width character languages (e.g., Chinese).</li>
<li>The limit of event attribute per event include preset attributes.</li>
<li>If the attribute or user attribute with the same name is added more than twice, the latest value will apply.</li>
<li>All errors that exceed the limit will be recorded <code>_error_code</code> and <code>_error_message</code> these two attribute in the event attributes.</li>
</ul>
</div>
<h2 id="preset-events">Preset events</h2>
<h3 id="automatically-collected-events">Automatically collected events</h3>
<table>
<thead>
<tr>
<th>Event name</th>
<th>Triggered</th>
<th>Event Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td>_first_open</td>
<td>when the user launches an app the first time after installation</td>
<td></td>
</tr>
<tr>
<td>_session_start</td>
<td>when a user first open the app or a user returns to the app after 30 minutes of inactivity period, <a href="#session-definition">Learn more</a></td>
<td>1. _session_id <br>2. _session_start_timestamp</td>
</tr>
<tr>
<td>_screen_view</td>
<td>when new screen is opens, <a href="#screen-view-definition">Learn more</a></td>
<td>1. _screen_name <br>2. _screen_id <br>3. _screen_unique_id <br>4. _previous_screen_name<br>5. _previous_screen_id<br>6. _previous_screen_unique_id<br/>7. _entrances<br>8. _previous_timestamp<br>9. _engagement_time_msec</td>
</tr>
<tr>
<td>_user_engagement</td>
<td>when user navigates away from current screen and the screen is in focus for at least one second, <a href="#user-engagement-definition">Learn more</a></td>
<td>1. _engagement_time_msec<br></td>
</tr>
<tr>
<td>_app_start</td>
<td>every time the app goes to visible</td>
<td>1. _is_first_time(when it is the first <code>_app_start</code> event after the application starts, the value is <code>true</code>)</td>
</tr>
<tr>
<td>_app_end</td>
<td>every time the app goes to invisible</td>
<td></td>
</tr>
<tr>
<td>_profile_set</td>
<td>when the <code>addUserAttributes()</code> or <code>setUserId()</code> API is called</td>
<td></td>
</tr>
<tr>
<td>_app_exception</td>
<td>when the app crashes</td>
<td>1. _exception_message<br>2. _exception_stack</td>
</tr>
<tr>
<td>_app_update</td>
<td>when the app is updated to a new version and launched again</td>
<td>1. _previous_app_version</td>
</tr>
<tr>
<td>_os_update</td>
<td>when device operating system is updated to a new version</td>
<td>1. _previous_os_version</td>
</tr>
<tr>
<td>_clickstream_error</td>
<td>event_name is invalid or user attribute is invalid</td>
<td>1. _error_code <br>2. _error_message</td>
</tr>
</tbody>
</table>
<h3 id="session-definition">Session definition</h3>
<p>In Clickstream Swift SDK, we do not limit the total time of a session. As long as the time between the next entry of the app and the last exit time is within the allowable timeout period, the current session is considered to be continuous.</p>
<p>The <code>_session_start</code> event triggered when the app open for the first time, or the app was open to the foreground and the time between the last exit exceeded <code>session_time_out</code> period. The following are session-related attributes.</p>
<ol>
<li>_session_id: We calculate the session id by concatenating the last 8 characters of uniqueId and the current millisecond, for example: dc7a7a18-20230905-131926703.</li>
<li>_session_duration : We calculate the session duration by minus the current event create timestamp and the session's <code>_session_start_timestamp</code>, this attribute will be added in every event during the session.</li>
<li>_session_number : The auto increment number of session in current device, the initial value is 1</li>
<li>Session timeout duration: By default is 30 minutes, which can be customized through the <a href="#configuration-update">configuration update</a> api.</li>
</ol>
<h3 id="screen-view-definition">Screen view definition</h3>
<p>In Clickstream Swift SDK, we define the <code>_screen_view</code> as an event that records a user's browsing path of screen, when a screen transition started, the <code>_screen_view</code> event will be recorded when meet any of the following conditions:</p>
<ol>
<li>No screen was previously set.</li>
<li>The new screen name differs from the previous screen title.</li>
<li>The new screen id differ from the previous screen id.</li>
<li>The new screen unique id differ from the previous screen unique id.</li>
</ol>
<p>This event listens for UIViewController's <code>onViewDidAppear</code> lifecycle method to judgment the screen transition. In order to track screen browsing path, we use <code>_previous_screen_name</code> , <code>_previous_screen_id</code> and <code>_previous_screen_unique_id</code> to link the previous screen. In addition, there are some other attributes in screen view event.</p>
<ol>
<li>_screen_unique_id: We calculate the screen unique id by getting the current screen's hash value, for example: "5260751568".</li>
<li>_entrances: The first screen view event in a session is 1, others is 0.</li>
<li>_previous_timestamp: The timestamp of the previous <code>_screen_view</code> event.</li>
<li>_engagement_time_msec: The previous page last engagement milliseconds.</li>
</ol>
<h3 id="user-engagement-definition">User engagement definition</h3>
<p>In Clickstream Swift SDK, we define the <code>_user_engagement</code> as an event that records the screen browsing time, and we only send this event when user leave the screen and the screen has focus for at least one second.</p>
<p>We define that users leave the screen in the following situations.</p>
<ol>
<li>When the user navigates to another screen.</li>
<li>The user moves the app screen to the background.</li>
<li>The user exit the app, or kill the process of app.</li>
</ol>
<p><strong>engagement_time_msec</strong>: We calculate the milliseconds from when a screen is visible to when the user leave the screen.</p>
<h2 id="event-attributes">Event attributes</h2>
<h3 id="sample-event-structure">Sample event structure</h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="p">{</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nt">&quot;app_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Shopping&quot;</span><span class="p">,</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nt">&quot;app_package_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;com.company.app&quot;</span><span class="p">,</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="nt">&quot;app_title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Shopping&quot;</span><span class="p">,</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="nt">&quot;app_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="nt">&quot;brand&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apple&quot;</span><span class="p">,</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="nt">&quot;carrier&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UNKNOWN&quot;</span><span class="p">,</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="nt">&quot;country_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="nt">&quot;device_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A536A563-65BD-49BE-A6EC-6F3CE7AC8FBE&quot;</span><span class="p">,</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="nt">&quot;device_unique_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;91DA4BBE-933F-4DFA-A489-8AEFBC7A06D8&quot;</span><span class="p">,</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="nt">&quot;event_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add_to_cart&quot;</span><span class="p">,</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="nt">&quot;hashCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;63D7991D&quot;</span><span class="p">,</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="nt">&quot;locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en_US&quot;</span><span class="p">,</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">    </span><span class="nt">&quot;make&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apple&quot;</span><span class="p">,</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">    </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iPhone 14 Pro&quot;</span><span class="p">,</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">    </span><span class="nt">&quot;network_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WIFI&quot;</span><span class="p">,</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">    </span><span class="nt">&quot;os_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;16.4&quot;</span><span class="p">,</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="w">    </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iOS&quot;</span><span class="p">,</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="w">    </span><span class="nt">&quot;screen_height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2556</span><span class="p">,</span>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="w">    </span><span class="nt">&quot;screen_width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1179</span><span class="p">,</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="w">    </span><span class="nt">&quot;sdk_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aws-solution-clickstream-sdk&quot;</span><span class="p">,</span>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a><span class="w">    </span><span class="nt">&quot;sdk_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.4.1&quot;</span><span class="p">,</span>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="w">    </span><span class="nt">&quot;system_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685082174195</span><span class="p">,</span>
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a><span class="w">    </span><span class="nt">&quot;unique_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0E6614B7-2D2C-4774-AB2F-B0A9E6C3BFAC&quot;</span><span class="p">,</span>
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="w">    </span><span class="nt">&quot;zone_offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28800000</span><span class="p">,</span>
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a><span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="w">        </span><span class="nt">&quot;_user_city&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="w">            </span><span class="nt">&quot;set_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685006678437</span><span class="p">,</span>
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a><span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Shanghai&quot;</span>
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a><span class="w">        </span><span class="nt">&quot;_user_first_touch_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a><span class="w">            </span><span class="nt">&quot;set_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685006678434</span><span class="p">,</span>
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a><span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685006678432</span>
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a><span class="w">        </span><span class="nt">&quot;_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a><span class="w">            </span><span class="nt">&quot;set_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685006678437</span><span class="p">,</span>
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a><span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;carl&quot;</span>
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a><span class="w">    </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a><span class="w">        </span><span class="nt">&quot;event_category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recommended&quot;</span><span class="p">,</span>
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a><span class="w">        </span><span class="nt">&quot;currency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CNY&quot;</span><span class="p">,</span>
</span><span id="__span-21-45"><a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a><span class="w">        </span><span class="nt">&quot;_session_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15349</span><span class="p">,</span>
</span><span id="__span-21-46"><a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a><span class="w">        </span><span class="nt">&quot;_session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0E6614B7-20230526-062238846&quot;</span><span class="p">,</span>
</span><span id="__span-21-47"><a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a><span class="w">        </span><span class="nt">&quot;_session_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a><span class="w">        </span><span class="nt">&quot;_session_start_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1685082158847</span><span class="p">,</span>
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a><span class="w">        </span><span class="nt">&quot;_screen_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ProductDetailViewController&quot;</span><span class="p">,</span>
</span><span id="__span-21-50"><a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a><span class="w">        </span><span class="nt">&quot;_screen_unique_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5260751568&quot;</span>
</span><span id="__span-21-51"><a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-21-52"><a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a><span class="p">}</span>
</span></code></pre></div>
<p>All user attributes will be included in <code>user</code> object, and all custom and global attribute are stored in <code>attributes</code> object.</p>
<h3 id="common-attribute">Common attribute</h3>
<table>
<thead>
<tr>
<th>Attribute name</th>
<th>Data type</th>
<th>Description</th>
<th>How to generate</th>
<th>Usage and purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>hashCode</td>
<td>String</td>
<td>the AnalyticsEvent Object's hashCode</td>
<td>generated from<code>String(format: "%08X", hasher.combine(eventjson))</code></td>
<td>distinguish different events</td>
</tr>
<tr>
<td>app_id</td>
<td>String</td>
<td>the app_id for your app</td>
<td>app_id was generated by clickstream solution when you register an app to a data pipeline</td>
<td>identify the events for your apps</td>
</tr>
<tr>
<td>unique_id</td>
<td>String</td>
<td>the unique id for user</td>
<td>generated from <code>UUID().uuidString</code> when the sdk first initialization<br>it will be changed if user logout and then login to a new user. When user re-login to the previous user in same device, the unique_id will be reset to the same previous unique_id</td>
<td>the unique id to identity different users and associating the behavior of logged-in and not logged-in</td>
</tr>
<tr>
<td>device_id</td>
<td>String</td>
<td>the unique id for device</td>
<td>generated from<code>UIDevice.current.identifierForVendor?.uuidString ?? UUID().uuidString</code><br>it will be changed after app reinstall<br></td>
<td>distinguish different devices</td>
</tr>
<tr>
<td>device_unique_id</td>
<td>String</td>
<td>the device advertising Id</td>
<td>generated from<code>ASIdentifierManager.shared().advertisingIdentifier.uuidString ?? ""</code></td>
<td>distinguish different devices</td>
</tr>
<tr>
<td>event_type</td>
<td>String</td>
<td>event name</td>
<td>set by user or sdk.</td>
<td>distinguish different events type</td>
</tr>
<tr>
<td>event_id</td>
<td>String</td>
<td>the unique id for event</td>
<td>generated from <code>UUID().uuidString</code> when the event create.</td>
<td>distinguish different events</td>
</tr>
<tr>
<td>timestamp</td>
<td>Int64</td>
<td>event create timestamp</td>
<td>generated from <code>Date().timeIntervalSince1970 * 1000</code> when event create</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>platform</td>
<td>String</td>
<td>the platform name</td>
<td>for iOS device is always "iOS"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>os_version</td>
<td>String</td>
<td>the iOS os version</td>
<td>generated from<code>UIDevice.current.systemVersion</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>make</td>
<td>String</td>
<td>manufacturer of the device</td>
<td>for iOS device is always "apple"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>brand</td>
<td>String</td>
<td>brand of the device</td>
<td>for iOS device is always "apple"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>model</td>
<td>String</td>
<td>model of the device</td>
<td>generated from mapping of device identifier</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>carrier</td>
<td>String</td>
<td>the device network operator name</td>
<td>generated from<code>CTTelephonyNetworkInfo().serviceSubscriberCellularProviders?.first?.value</code><br>default is: "UNKNOWN"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>network_type</td>
<td>String</td>
<td>the current device network type</td>
<td>"Mobile", "WIFI" or "UNKNOWN"<br>generate by  <code>NWPathMonitor</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>screen_height</td>
<td>int</td>
<td>The absolute height of the available display size in pixels</td>
<td>generated from<code>UIScreen.main.bounds.size.height * UIScreen.main.scale</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>screen_width</td>
<td>int</td>
<td>The absolute width of the available display size in pixels.</td>
<td>generated from<code>UIScreen.main.bounds.size.width * UIScreen.main.scale</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>zone_offset</td>
<td>int</td>
<td>the device raw offset from GMT in milliseconds.</td>
<td>generated from<code>TimeZone.current.secondsFromGMT()*1000</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>the default locale(language, country and variant) for this device</td>
<td>generated from <code>Locale.current</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>system_language</td>
<td>String</td>
<td>the device language code</td>
<td>generated from <code>Locale.current.languageCode</code><br>default is: "UNKNOWN"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>country_code</td>
<td>String</td>
<td>country/region code for this device</td>
<td>generated from <code>Locale.current.regionCode</code><br>default is: "UNKNOWN"</td>
<td>data analysis needs</td>
</tr>
<tr>
<td>sdk_version</td>
<td>String</td>
<td>clickstream sdk version</td>
<td>generated from<code>PackageInfo.version</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>sdk_name</td>
<td>String</td>
<td>clickstream sdk name</td>
<td>this will always be <code>aws-solution-clickstream-sdk</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>app_version</td>
<td>String</td>
<td>the app version name</td>
<td>generated from <code>Bundle.main.infoDictionary["CFBundleShortVersionString"] ?? ""</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>app_package_name</td>
<td>String</td>
<td>the app package name</td>
<td>generated from<code>Bundle.main.infoDictionary["CFBundleIdentifier"] ?? ""</code></td>
<td>data analysis needs</td>
</tr>
<tr>
<td>app_title</td>
<td>String</td>
<td>the app's display name</td>
<td>generated from <code>Bundle.main.infoDictionary["CFBundleName"] ?? ""</code></td>
<td>data analysis needs</td>
</tr>
</tbody>
</table>
<h3 id="user-attributes">User attributes</h3>
<table>
<thead>
<tr>
<th>attribute name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>_user_id</td>
<td>Reserved for user id that is assigned by app</td>
</tr>
<tr>
<td>_user_ltv_revenue</td>
<td>Reserved for user lifetime value</td>
</tr>
<tr>
<td>_user_ltv_currency</td>
<td>Reserved for user lifetime value currency</td>
</tr>
<tr>
<td>_user_first_touch_timestamp</td>
<td>Added to the user object for all events. The time (in milliseconds) at which the user first opened the app</td>
</tr>
</tbody>
</table>
<h3 id="event-attributes_1">Event attributes</h3>
<table>
<thead>
<tr>
<th>Attribute name</th>
<th>Data type</th>
<th>Auto track</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>_traffic_source_medium</td>
<td>String</td>
<td>false</td>
<td>Reserved for traffic medium. Use this attribute to store the medium that acquired user when events were logged. Example: Email, Paid search, Search engine</td>
</tr>
<tr>
<td>_traffic_source_name</td>
<td>String</td>
<td>false</td>
<td>Reserved for traffic name. Use this attribute to store the marketing campaign that acquired user when events were logged. Example: Summer promotion</td>
</tr>
<tr>
<td>_traffic_source_source</td>
<td>String</td>
<td>false</td>
<td>Reserved for traffic source. Name of the network source that acquired the user when the event were reported. Example: Google, Facebook, Bing, Baidu</td>
</tr>
<tr>
<td>_channel</td>
<td>String</td>
<td>false</td>
<td>Reserved for install source, it is the channel for app was downloaded</td>
</tr>
<tr>
<td>_session_id</td>
<td>String</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
<tr>
<td>_session_start_timestamp</td>
<td>long</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
<tr>
<td>_session_duration</td>
<td>long</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
<tr>
<td>_session_number</td>
<td>int</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
<tr>
<td>_screen_name</td>
<td>String</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
<tr>
<td>_screen_unique_id</td>
<td>String</td>
<td>true</td>
<td>Added in all events.</td>
</tr>
</tbody>
</table>
<h3 id="item-attributes">Item attributes</h3>
<table>
<thead>
<tr>
<th>Attribute name</th>
<th>Data type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>False</td>
<td>The id of the item</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>False</td>
<td>The name of the item</td>
</tr>
<tr>
<td>brand</td>
<td>string</td>
<td>False</td>
<td>The brand of the item</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>False</td>
<td>The currency of the item</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>False</td>
<td>The price of the item</td>
</tr>
<tr>
<td>quantity</td>
<td>string</td>
<td>False</td>
<td>The quantity of the item</td>
</tr>
<tr>
<td>creative_name</td>
<td>string</td>
<td>False</td>
<td>The creative name of the item</td>
</tr>
<tr>
<td>creative_slot</td>
<td>string</td>
<td>False</td>
<td>The creative slot of the item</td>
</tr>
<tr>
<td>location_id</td>
<td>string</td>
<td>False</td>
<td>The location id of the item</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>False</td>
<td>The category of the item</td>
</tr>
<tr>
<td>category2</td>
<td>string</td>
<td>False</td>
<td>The category2 of the item</td>
</tr>
<tr>
<td>category3</td>
<td>string</td>
<td>False</td>
<td>The category3 of the item</td>
</tr>
<tr>
<td>category4</td>
<td>string</td>
<td>False</td>
<td>The category4 of the item</td>
</tr>
<tr>
<td>category5</td>
<td>string</td>
<td>False</td>
<td>The category5 of the item</td>
</tr>
</tbody>
</table>
<p>You can use the above preset item attributes, of course, you can also add custom attributes to an item. In addition to the preset attributes, an item can add up to 10 custom attributes.</p>
<h2 id="change-log">Change log</h2>
<p><a href="https://github.com/awslabs/clickstream-swift/releases">GitHub change log</a></p>
<h2 id="reference-link">Reference link</h2>
<p><a href="https://github.com/awslabs/clickstream-swift">Source code</a></p>
<p><a href="https://github.com/awslabs/clickstream-swift/issues">Project issue</a></p>
<p><a href="https://awslabs.github.io/clickstream-swift/">API Documentation</a></p>
<p><a href="https://awslabs.github.io/clickstream-swift/Classes/ClickstreamObjc.html">ClickstreamObjc Api Reference</a></p>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.tracking", "navigation.path", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>